{"version":3,"sources":["appContext.js","components/Header.js","hooks/useHovered.js","components/CartItem.js","pages/Cart.js","components/Picture.js","pages/Photos.js","App.js","index.js"],"names":["appContext","React","createContext","ContextProvider","props","useState","pictures","setPictures","cartItems","setCartItems","useEffect","fetch","then","response","json","data","console","log","Provider","value","likePicture","id","prevPictures","map","picture","isLiked","addRemoveFromCart","pictureObj","addedToCart","prevCartItems","filter","cartItem","children","Header","cartIconFilled","useContext","length","to","className","useHovered","hovered","setHovered","ref","useRef","enter","leave","current","addEventListener","removeEventListener","CartItem","showDelIcon","class","alt","src","thumbnailUrl","onClick","Cart","cartItemsEl","key","Picture","favClass","addedToCartClass","likeIcon","cartIcon","onMouseEnter","onMouseLeave","Photos","images","img","App","exact","path","rootElement","document","getElementById","ReactDOM","render"],"mappings":"qPAEMA,EAAaC,IAAMC,gBAEzB,SAASC,EAAgBC,GACvB,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAkCF,mBAAS,IAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KAEAC,qBAAU,WACRC,MAAM,wDACHC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GAAD,OAAUR,EAAYQ,QAC7B,IAiCH,OAFAC,QAAQC,IAAIT,GAGV,kBAACR,EAAWkB,SAAZ,CACEC,MAAO,CAAEb,WAAUc,YAjCH,SAACC,GACnBd,GAAY,SAACe,GASX,OARwBA,EAAaC,KAAI,SAACC,GAKxC,OAJIA,EAAQH,KAAOA,IACjBG,EAAQC,SAAWD,EAAQC,QAC3BT,QAAQC,IAAIO,IAEPA,SA0BuBE,kBAnBV,SAACC,GACrBA,EAAWC,aACbD,EAAWC,aAAc,EACzBnB,GAAa,SAACoB,GACZ,OAAOA,EAAcC,QACnB,SAACC,GAAD,OAAcA,EAASV,KAAOM,EAAWN,UAI7CZ,GAAa,SAACoB,GAEZ,OADAF,EAAWC,aAAc,EACnB,GAAN,mBAAWC,GAAX,CAA0BF,QAQuBnB,cAElDJ,EAAM4B,U,8BC3BEC,MAlBf,WACE,IAEMC,EAFgBC,qBAAWnC,GAAzBQ,UAGI4B,OAAS,EAAI,wBAA0B,wBAEnD,OACE,gCACE,kBAAC,IAAD,CAAMC,GAAG,KACP,wCAEF,kBAAC,IAAD,CAAMA,GAAG,SACP,uBAAGC,UAAS,UAAKJ,EAAL,qBCMLK,MApBf,WACE,MAA8BlC,qBAA9B,mBAAOmC,EAAP,KAAgBC,EAAhB,KACMC,EAAMC,iBAAO,MAEbC,EAAQ,kBAAMH,GAAW,IACzBI,EAAQ,kBAAMJ,GAAW,IAY/B,OAVA/B,qBAAU,WAIR,OAHAgC,EAAII,QAAQC,iBAAiB,aAAcH,GAC3CF,EAAII,QAAQC,iBAAiB,aAAcF,GAEpC,WACLH,EAAII,QAAQE,oBAAoB,aAAcJ,GAC9CF,EAAII,QAAQE,oBAAoB,aAAcH,MAE/C,IAEI,CAACL,EAASE,ICKJO,MApBf,YAAiC,IAAblB,EAAY,EAAZA,SAClB,EAAuBQ,IAAvB,mBAAOC,EAAP,KAAgBE,EAAhB,KAEQhB,EAAsBS,qBAAWnC,GAAjC0B,kBACFwB,EAAcV,GAAW,qBAE/B,OACE,yBAAKW,MAAM,sBAAsBT,IAAKA,GACpC,yBAAKS,MAAM,qBACT,yBAAKC,IAAKrB,EAASV,GAAIgC,IAAKtB,EAASuB,eACrC,uBACEhB,UAAS,UAAKY,EAAL,qBACTK,QAAS,kBAAM7B,EAAkBK,OAGrC,0CCASyB,MAff,WACE,IAAQhD,EAAc2B,qBAAWnC,GAAzBQ,UACFiD,EAAcjD,EAAUe,KAAI,SAACQ,GAAD,OAChC,kBAAC,EAAD,CAAU2B,IAAK3B,EAASV,GAAIU,SAAUA,OAGxC,OACE,6BACG0B,EACD,6BACA,4CAAqC,EAAnBjD,EAAU4B,OAA5B,OCiCSuB,MA3Cf,YAA+B,IAAZnC,EAAW,EAAXA,QACjB,EAA8BnB,oBAAS,GAAvC,mBAAOmC,EAAP,KAAgBC,EAAhB,KACA,EAA2CN,qBAAWnC,GAA9CoB,EAAR,EAAQA,YAAaM,EAArB,EAAqBA,kBAEfkC,EAAWpC,EAAQC,QAAU,gBAAkB,gBAC/CoC,EAAmBrC,EAAQI,YAC7B,wBACA,wBAEEkC,EAAWtB,GACf,uBACEF,UAAS,UAAKsB,EAAL,SACTL,QAAS,kBAAMnC,EAAYI,EAAQH,OAIjC0C,EAAWvB,GACf,uBACEF,UAAS,UAAKuB,EAAL,SACTN,QAAS,kBAAM7B,EAAkBF,MAIrC,OACE,yBACEc,UAAU,oCACV0B,aAAc,kBAAMvB,GAAW,IAC/BwB,aAAc,kBAAMxB,GAAW,KAE/B,yBAAKY,IAAK7B,EAAQ8B,aAAcF,IAAI,gBACnCU,EANH,IAMcC,ICxBHG,MANf,WACE,IACMC,EADehC,qBAAWnC,GAAxBM,SACgBiB,KAAI,SAAC6C,GAAD,OAAS,kBAAC,EAAD,CAASV,IAAKU,EAAI/C,GAAIG,QAAS4C,OACpE,OAAO,yBAAK/C,GAAG,iBAAiB8C,ICCnB,SAASE,IACtB,OACE,yBAAK/B,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOgC,OAAK,EAACC,KAAK,KAChB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,SACV,kBAAC,EAAD,SCTV,IAAMC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,kBAACzE,EAAD,KACE,kBAAC,IAAD,KACE,kBAACkE,EAAD,QAGJG,K","file":"static/js/main.2f36bc10.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst appContext = React.createContext();\n\nfunction ContextProvider(props) {\n  const [pictures, setPictures] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  //runs when the component loads\n  useEffect(() => {\n    fetch(\"https://jsonplaceholder.typicode.com/albums/1/photos\")\n      .then((response) => response.json())\n      .then((data) => setPictures(data));\n  }, []);\n\n  const likePicture = (id) => {\n    setPictures((prevPictures) => {\n      const updatedPictures = prevPictures.map((picture) => {\n        if (picture.id === id) {\n          picture.isLiked = !picture.isLiked;\n          console.log(picture);\n        }\n        return picture;\n      });\n\n      return updatedPictures;\n    });\n  };\n\n  const addRemoveFromCart = (pictureObj) => {\n    if (pictureObj.addedToCart) {\n      pictureObj.addedToCart = false;\n      setCartItems((prevCartItems) => {\n        return prevCartItems.filter(\n          (cartItem) => cartItem.id !== pictureObj.id\n        );\n      });\n    } else {\n      setCartItems((prevCartItems) => {\n        pictureObj.addedToCart = true;\n        return [...prevCartItems, pictureObj];\n      });\n    }\n  };\n  console.log(cartItems);\n\n  return (\n    <appContext.Provider\n      value={{ pictures, likePicture, addRemoveFromCart, cartItems }}\n    >\n      {props.children}\n    </appContext.Provider>\n  );\n}\n\nexport { ContextProvider, appContext };\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { appContext } from \"../appContext.js\";\n\nfunction Header() {\n  const { cartItems } = useContext(appContext);\n\n  const cartIconFilled =\n    cartItems.length > 0 ? \"ri-shopping-cart-fill\" : \"ri-shopping-cart-line\";\n\n  return (\n    <header>\n      <Link to=\"/\">\n        <h1>Clorify</h1>\n      </Link>\n      <Link to=\"/cart\">\n        <i className={`${cartIconFilled} ri-fq ri-2x`}></i>\n      </Link>\n    </header>\n  );\n}\n\nexport default Header;\n","import { useState, useRef, useEffect } from \"react\";\n\nfunction useHovered() {\n  const [hovered, setHovered] = useState();\n  const ref = useRef(null);\n\n  const enter = () => setHovered(true);\n  const leave = () => setHovered(false);\n\n  useEffect(() => {\n    ref.current.addEventListener(\"mouseenter\", enter);\n    ref.current.addEventListener(\"mouseleave\", leave);\n\n    return () => {\n      ref.current.removeEventListener(\"mouseenter\", enter);\n      ref.current.removeEventListener(\"mouseleave\", leave);\n    };\n  }, []);\n\n  return [hovered, ref];\n}\n\nexport default useHovered;\n","import React, { useContext } from \"react\";\nimport { appContext } from \"../appContext.js\";\nimport useHovered from \"../hooks/useHovered.js\";\n\nfunction CartItem({ cartItem }) {\n  const [hovered, ref] = useHovered();\n\n  const { addRemoveFromCart } = useContext(appContext);\n  const showDelIcon = hovered && \"ri-delete-bin-line\";\n\n  return (\n    <div class=\"cart-item-container\" ref={ref}>\n      <div class=\"position-relative\">\n        <img alt={cartItem.id} src={cartItem.thumbnailUrl} />\n        <i\n          className={`${showDelIcon} delete-from-cart`}\n          onClick={() => addRemoveFromCart(cartItem)}\n        />\n      </div>\n      <span> Rs 2 </span>\n    </div>\n  );\n}\n\nexport default CartItem;\n","import React, { useContext } from \"react\";\nimport { appContext } from \"../appContext.js\";\nimport CartItem from \"../components/CartItem.js\";\n\nfunction Cart() {\n  const { cartItems } = useContext(appContext);\n  const cartItemsEl = cartItems.map((cartItem) => (\n    <CartItem key={cartItem.id} cartItem={cartItem} />\n  ));\n\n  return (\n    <div>\n      {cartItemsEl}\n      <hr />\n      <div> Total : Rs {cartItems.length * 2} </div>\n    </div>\n  );\n}\n\nexport default Cart;\n","import React, { useState, useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { appContext } from \"../appContext.js\";\n\nfunction Picture({ picture }) {\n  const [hovered, setHovered] = useState(false);\n  const { likePicture, addRemoveFromCart } = useContext(appContext);\n\n  const favClass = picture.isLiked ? \"ri-heart-fill\" : \"ri-heart-line\";\n  const addedToCartClass = picture.addedToCart\n    ? \"ri-shopping-cart-fill\"\n    : \"ri-shopping-cart-line\";\n\n  const likeIcon = hovered && (\n    <i\n      className={`${favClass} like`}\n      onClick={() => likePicture(picture.id)}\n    ></i>\n  );\n\n  const cartIcon = hovered && (\n    <i\n      className={`${addedToCartClass} cart`}\n      onClick={() => addRemoveFromCart(picture)}\n    />\n  );\n\n  return (\n    <div\n      className=\"image-container position-relative\"\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n    >\n      <img src={picture.thumbnailUrl} alt=\"empty space\" />\n      {likeIcon} {cartIcon}\n    </div>\n  );\n}\n\nPicture.propTypes = {\n  picture: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    thumbnailUrl: PropTypes.string.isRequired,\n    isLiked: PropTypes.bool\n  })\n};\n\nexport default Picture;\n","import React, { useContext } from \"react\";\nimport { appContext } from \"../appContext\";\nimport Picture from \"../components/Picture.js\";\n\nfunction Photos() {\n  const { pictures } = useContext(appContext);\n  const images = pictures.map((img) => <Picture key={img.id} picture={img} />);\n  return <div id=\"pictures-list\">{images}</div>;\n}\n\nexport default Photos;\n","import React from \"react\";\n\nimport { Switch, Route } from \"react-router-dom\";\nimport \"./styles.css\";\nimport Header from \"./components/Header.js\";\nimport Cart from \"./pages/Cart.js\";\nimport Photos from \"./pages/Photos.js\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Switch>\n        <Route exact path=\"/\">\n          <Photos />\n        </Route>\n        <Route path=\"/cart\">\n          <Cart />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ContextProvider } from \"./appContext.js\";\nimport \"remixicon/fonts/remixicon.css\";\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <ContextProvider>\n    <Router>\n      <App />\n    </Router>\n  </ContextProvider>,\n  rootElement\n);\n"],"sourceRoot":""}